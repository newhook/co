[tools]
go = "1.25"
"aqua:steveyegge/beads" = "v0.49.0"
"go:golang.org/x/tools/cmd/deadcode" = "latest"
"aqua:sqlc-dev/sqlc" = "1.28.0"
"aqua:golangci/golangci-lint" = "v2.8.0"
"aqua:evilmartians/lefthook" = "latest"
"aqua:mikefarah/yq" = "latest"
"go:github.com/matryer/moq" = "latest"

[env]
GOPATH = "{{env.HOME}}/go"

[tasks.build]
description = "Build the co binary"
run = "go build -o co ."

[tasks.test]
description = "Run tests"
run = "go test ./..."

[tasks.sqlc-generate]
description = "Generate sqlc code"
run = "sqlc generate"

[tasks.lint]
description = "Run golangci-lint"
run = "golangci-lint run ./..."

[tasks.generate]
description = "Run go generate for all packages"
run = "go generate ./..."
