{"id":"ac-2vr","title":"Add bead ID positional argument to run command","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T20:45:11.008418-05:00","created_by":"matthew","updated_at":"2026-01-09T20:52:28.553736-05:00","closed_at":"2026-01-09T20:52:28.553736-05:00","close_reason":"Added positional argument for bead ID: ac run \u003cbead-id\u003e now works as alternative to --bead flag","dependencies":[{"issue_id":"ac-2vr","depends_on_id":"ac-r51","type":"blocks","created_at":"2026-01-09T20:45:17.691025-05:00","created_by":"matthew"}]}
{"id":"ac-4g9","title":"Update cmd/run.go for DB integration","description":"Update cmd/run.go:\n- In runBeads(): Add db.Open() at start, defer db.Close()\n- Before processBead(): call db.StartBead(bead.ID, bead.Title, sessionName, paneName)\n- Pass session/pane info to claude.Run() or have it return them\n- On error: call db.FailBead(bead.ID, err.Error())\n- In buildPrompt(): Change instruction to use 'co complete \u003cid\u003e --pr \u003cPR_URL\u003e' instead of file creation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T09:34:57.329221-05:00","created_by":"matthew","updated_at":"2026-01-10T09:47:09.319481-05:00","closed_at":"2026-01-10T09:47:09.319481-05:00","close_reason":"Updated cmd/run.go with DB integration (Open, StartBead, FailBead), updated runner.go to poll DB for completion","dependencies":[{"issue_id":"ac-4g9","depends_on_id":"ac-aof","type":"parent-child","created_at":"2026-01-10T09:35:13.726713-05:00","created_by":"matthew"},{"issue_id":"ac-4g9","depends_on_id":"ac-ec4","type":"blocks","created_at":"2026-01-10T09:35:23.489695-05:00","created_by":"matthew"}]}
{"id":"ac-5n9","title":"Implement Claude Code invocation","description":"Create internal/claude/runner.go:\n- Run(ctx, prompt, workDir) error\n- Executes: claude --dangerously-skip-permissions -p \"\u003cprompt\u003e\"\n- Streams stdout/stderr to terminal\n- Returns error on non-zero exit\n\nAcceptance criteria:\n- Claude is invoked with correct flags\n- Output is visible during execution\n- Errors are properly propagated","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T20:18:45.54837-05:00","created_by":"matthew","updated_at":"2026-01-09T20:36:51.902096-05:00","closed_at":"2026-01-09T20:36:51.902096-05:00","close_reason":"Implemented Run(ctx, prompt, workDir) that invokes claude --dangerously-skip-permissions -p with streaming output to stdout/stderr.","dependencies":[{"issue_id":"ac-5n9","depends_on_id":"ac-ieo","type":"blocks","created_at":"2026-01-09T20:20:19.589403-05:00","created_by":"matthew"}]}
{"id":"ac-6n7","title":"Add go-sqlite3 dependency to go.mod","description":"Add github.com/ncruces/go-sqlite3 dependency to go.mod using: go get github.com/ncruces/go-sqlite3","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T09:34:55.793334-05:00","created_by":"matthew","updated_at":"2026-01-10T09:42:37.185342-05:00","closed_at":"2026-01-10T09:42:37.185342-05:00","close_reason":"Dependency will be properly added when db.go imports it - standard Go workflow","dependencies":[{"issue_id":"ac-6n7","depends_on_id":"ac-aof","type":"parent-child","created_at":"2026-01-10T09:35:13.71691-05:00","created_by":"matthew"}]}
{"id":"ac-6zo","title":"Create cmd/complete.go subcommand","description":"Create cmd/complete.go implementing:\n- co complete \u003cbead-id\u003e [--pr \u003curl\u003e]\n- Called by Claude Code when task is done\n- Updates SQLite status to completed\n- Optionally records PR URL","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T09:34:56.455048-05:00","created_by":"matthew","updated_at":"2026-01-10T09:45:02.518884-05:00","closed_at":"2026-01-10T09:45:02.518884-05:00","close_reason":"Created cmd/complete.go, cmd/status.go, cmd/list.go subcommands","dependencies":[{"issue_id":"ac-6zo","depends_on_id":"ac-aof","type":"parent-child","created_at":"2026-01-10T09:35:13.721222-05:00","created_by":"matthew"},{"issue_id":"ac-6zo","depends_on_id":"ac-ec4","type":"blocks","created_at":"2026-01-10T09:35:22.454068-05:00","created_by":"matthew"}]}
{"id":"ac-9hx","title":"Implement main run command orchestration loop","description":"Update cmd/run.go to orchestrate the full workflow:\n1. Get ready beads (with --limit and --bead filters)\n2. For each bead:\n   a. Create branch: bead/\u003cbead-id\u003e\n   b. Run Claude with bead prompt\n   c. If changes: commit, push, create PR, merge PR\n   d. Close bead with reason\n   e. Cleanup branch\n3. Stop on first error\n\nFlags:\n- --branch, -b: target branch (default: main)\n- --bead: specific bead ID only\n- --limit, -n: max beads to process\n- --dry-run: show plan without executing\n- --no-merge: create PRs but don't merge\n\nAcceptance criteria:\n- Full workflow executes for a single bead\n- --dry-run shows plan without side effects\n- Stops immediately on error","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T20:19:01.843065-05:00","created_by":"matthew","updated_at":"2026-01-09T20:48:31.190588-05:00","closed_at":"2026-01-09T20:48:31.190588-05:00","close_reason":"Implemented full orchestration loop in cmd/run.go with --branch, --bead, --limit, --dry-run, and --no-merge flags. Workflow: create branch, run Claude, check commits, push, close bead, create PR, merge.","dependencies":[{"issue_id":"ac-9hx","depends_on_id":"ac-f6p","type":"blocks","created_at":"2026-01-09T20:19:49.398102-05:00","created_by":"matthew"},{"issue_id":"ac-9hx","depends_on_id":"ac-tia","type":"blocks","created_at":"2026-01-09T20:20:19.978523-05:00","created_by":"matthew"},{"issue_id":"ac-9hx","depends_on_id":"ac-5n9","type":"blocks","created_at":"2026-01-09T20:20:20.067903-05:00","created_by":"matthew"},{"issue_id":"ac-9hx","depends_on_id":"ac-b1v","type":"blocks","created_at":"2026-01-09T20:20:20.147985-05:00","created_by":"matthew"}]}
{"id":"ac-aof","title":"SQLite tracking and completion subcommands","description":"Replace temp file completion tracking with SQLite database and add CLI subcommands (complete, status, list) that Claude Code can use to mark tasks complete.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T09:34:29.520812-05:00","created_by":"matthew","updated_at":"2026-01-10T09:47:18.303813-05:00","closed_at":"2026-01-10T09:47:18.303813-05:00","close_reason":"All child tasks completed: SQLite tracking database (internal/db/), CLI subcommands (complete, status, list), run.go and runner.go DB integration","comments":[{"id":1,"issue_id":"ac-aof","author":"matthew","text":"Feature branch: epic/ac-aof - all child issues should branch from and merge to this branch","created_at":"2026-01-10T14:40:33Z"}]}
{"id":"ac-b1v","title":"Implement PR creation and merging via gh CLI","description":"Create internal/github/pr.go:\n- CreatePR(branch, base, title, body string) (prURL, error)\n- MergePR(prURL string) error\n- Uses gh pr create and gh pr merge commands\n\nAcceptance criteria:\n- PRs are created with correct title/body\n- PRs are merged successfully\n- Errors from gh are properly handled","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T20:18:45.867752-05:00","created_by":"matthew","updated_at":"2026-01-09T20:36:52.062255-05:00","closed_at":"2026-01-09T20:36:52.062255-05:00","close_reason":"Implemented CreatePR(branch, base, title, body) and MergePR(prURL) using gh CLI. MergePR uses --merge --delete-branch for cleanup.","dependencies":[{"issue_id":"ac-b1v","depends_on_id":"ac-ieo","type":"blocks","created_at":"2026-01-09T20:20:19.667497-05:00","created_by":"matthew"}]}
{"id":"ac-ckx","title":"Add GetBeadWithDeps function to beads client","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T20:45:11.437718-05:00","created_by":"matthew","updated_at":"2026-01-09T20:52:28.722176-05:00","closed_at":"2026-01-09T20:52:28.722176-05:00","close_reason":"Added GetBeadWithDeps(id) function that returns BeadWithDeps struct including Dependencies slice","dependencies":[{"issue_id":"ac-ckx","depends_on_id":"ac-r51","type":"blocks","created_at":"2026-01-09T20:45:18.014568-05:00","created_by":"matthew"}]}
{"id":"ac-cnm","title":"Add --deps flag to process dependencies","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T20:45:11.161987-05:00","created_by":"matthew","updated_at":"2026-01-09T21:00:31.395729-05:00","closed_at":"2026-01-09T21:00:31.395729-05:00","close_reason":"Implemented --deps flag that recursively processes open dependencies before the target bead. PR #8 merged.","dependencies":[{"issue_id":"ac-cnm","depends_on_id":"ac-ckx","type":"blocks","created_at":"2026-01-09T20:45:17.849864-05:00","created_by":"matthew"}]}
{"id":"ac-ctt","title":"Update cmd/root.go to register new commands","description":"Update cmd/root.go init() to register:\n- completeCmd\n- statusCmd  \n- listCmd","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T09:34:57.117222-05:00","created_by":"matthew","updated_at":"2026-01-10T09:45:22.962581-05:00","closed_at":"2026-01-10T09:45:22.962581-05:00","close_reason":"Updated cmd/root.go to register completeCmd, statusCmd, listCmd","dependencies":[{"issue_id":"ac-ctt","depends_on_id":"ac-aof","type":"parent-child","created_at":"2026-01-10T09:35:13.725475-05:00","created_by":"matthew"},{"issue_id":"ac-ctt","depends_on_id":"ac-6zo","type":"blocks","created_at":"2026-01-10T09:35:23.06505-05:00","created_by":"matthew"},{"issue_id":"ac-ctt","depends_on_id":"ac-p9b","type":"blocks","created_at":"2026-01-10T09:35:23.185819-05:00","created_by":"matthew"},{"issue_id":"ac-ctt","depends_on_id":"ac-zqp","type":"blocks","created_at":"2026-01-10T09:35:23.290447-05:00","created_by":"matthew"}]}
{"id":"ac-ec4","title":"Create internal/db/bead.go for tracking operations","description":"Create internal/db/bead.go with:\n- TrackedBead struct (including ZellijSession, ZellijPane fields)\n- StartBead(id, title, zellijSession, zellijPane) - mark as processing with session info\n- CompleteBead(id, prURL) - mark as completed\n- FailBead(id, errMsg) - mark as failed\n- GetBead(id) - get tracking record (includes session/pane info)\n- IsCompleted(id) - check if completed/failed\n- ListBeads(statusFilter) - list all beads\n- GetBeadSession(id) - get zellij session/pane for a bead","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T09:34:56.23703-05:00","created_by":"matthew","updated_at":"2026-01-10T09:44:04.319552-05:00","closed_at":"2026-01-10T09:44:04.319552-05:00","close_reason":"Created internal/db/bead.go with TrackedBead struct, StartBead, CompleteBead, FailBead, GetBead, IsCompleted, ListBeads, GetBeadSession functions","dependencies":[{"issue_id":"ac-ec4","depends_on_id":"ac-aof","type":"parent-child","created_at":"2026-01-10T09:35:13.719938-05:00","created_by":"matthew"},{"issue_id":"ac-ec4","depends_on_id":"ac-nz0","type":"blocks","created_at":"2026-01-10T09:35:22.26614-05:00","created_by":"matthew"}]}
{"id":"ac-f6p","title":"Implement beads client to query ready work","description":"Create internal/beads/client.go:\n- GetReadyBeads() - runs `bd ready --json`, parses output\n- CloseBead(id, reason) - runs `bd close \u003cid\u003e --reason \"\u003creason\u003e\"`\n- Bead struct with ID, Title, Description fields\n\nAcceptance criteria:\n- GetReadyBeads returns parsed beads from bd ready\n- CloseBead successfully closes a bead","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T20:18:44.955092-05:00","created_by":"matthew","updated_at":"2026-01-09T20:33:01.642893-05:00","closed_at":"2026-01-09T20:33:01.642893-05:00","close_reason":"Implemented beads client with GetReadyBeads() and CloseBead() functions. PR #1 merged.","dependencies":[{"issue_id":"ac-f6p","depends_on_id":"ac-ieo","type":"blocks","created_at":"2026-01-09T20:19:46.368644-05:00","created_by":"matthew"}]}
{"id":"ac-gs6","title":"Add feature branch workflow with final PR","description":"Extend cmd/run.go:\n- When --branch is specified, all PRs target that branch\n- After all beads complete, create final PR: branch â†’ main\n- Skip final PR if no beads were processed\n\nAcceptance criteria:\n- PRs target feature branch when --branch specified\n- Final PR is created after all beads complete\n- Works correctly when some beads have no changes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T20:19:02.166276-05:00","created_by":"matthew","updated_at":"2026-01-09T20:52:28.892894-05:00","closed_at":"2026-01-09T20:52:28.892894-05:00","close_reason":"Implemented feature branch workflow: when --branch != main, PRs target feature branch and final PR merges to main after all beads complete","dependencies":[{"issue_id":"ac-gs6","depends_on_id":"ac-9hx","type":"blocks","created_at":"2026-01-09T20:19:49.718878-05:00","created_by":"matthew"}]}
{"id":"ac-ieo","title":"Initialize Go project with cobra CLI","description":"Create the ac (auto claude) Go project:\n- go mod init github.com/newhook/autoclaude\n- Install cobra: go get github.com/spf13/cobra@latest\n- Create main.go with root command\n- Create cmd/run.go with placeholder run command\n\nAcceptance criteria:\n- `go build` succeeds\n- `./ac --help` shows usage\n- `./ac run --help` shows run command flags","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T20:18:30.087397-05:00","created_by":"matthew","updated_at":"2026-01-09T20:26:43.02485-05:00","closed_at":"2026-01-09T20:26:43.02485-05:00","close_reason":"Initialized Go project with cobra CLI. Created main.go, cmd/root.go, and cmd/run.go. Build succeeds and help commands work correctly."}
{"id":"ac-nz0","title":"Create internal/db/db.go for SQLite connection","description":"Create internal/db/db.go with:\n- Open() function to initialize DB connection and create ~/.config/co/tracking.db\n- Close() function\n- Schema creation with beads table:\n  - id, status, title, pr_url, error_message\n  - zellij_session (TEXT) - zellij session name where Claude is running\n  - zellij_pane (TEXT) - pane name/ID within the session\n  - started_at, completed_at, created_at, updated_at\n- Status constants: pending, processing, completed, failed\n- Support CO_DB_PATH env var override","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T09:34:56.02255-05:00","created_by":"matthew","updated_at":"2026-01-10T09:43:25.986541-05:00","closed_at":"2026-01-10T09:43:25.986541-05:00","close_reason":"Created internal/db/db.go with Open(), Close(), schema creation with beads table, status constants, and CO_DB_PATH env var support","dependencies":[{"issue_id":"ac-nz0","depends_on_id":"ac-aof","type":"parent-child","created_at":"2026-01-10T09:35:13.718597-05:00","created_by":"matthew"},{"issue_id":"ac-nz0","depends_on_id":"ac-6n7","type":"blocks","created_at":"2026-01-10T09:35:22.062034-05:00","created_by":"matthew"}]}
{"id":"ac-p9b","title":"Create cmd/status.go subcommand","description":"Create cmd/status.go implementing:\n- co status [bead-id]\n- With ID: Show detailed status including zellij session/pane info\n- Without ID: Show all beads currently processing with their session/pane\n- Useful for debugging which Claude instance is working on what","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T09:34:56.678228-05:00","created_by":"matthew","updated_at":"2026-01-10T09:45:02.540741-05:00","closed_at":"2026-01-10T09:45:02.540741-05:00","close_reason":"Created cmd/complete.go, cmd/status.go, cmd/list.go subcommands","dependencies":[{"issue_id":"ac-p9b","depends_on_id":"ac-aof","type":"parent-child","created_at":"2026-01-10T09:35:13.722503-05:00","created_by":"matthew"},{"issue_id":"ac-p9b","depends_on_id":"ac-ec4","type":"blocks","created_at":"2026-01-10T09:35:22.654291-05:00","created_by":"matthew"}]}
{"id":"ac-r51","title":"Add GetBead function to beads client","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T20:45:11.286533-05:00","created_by":"matthew","updated_at":"2026-01-09T20:48:31.350644-05:00","closed_at":"2026-01-09T20:48:31.350644-05:00","close_reason":"Added GetBead(id) function to internal/beads/client.go that retrieves a single bead by ID using bd show --json."}
{"id":"ac-tia","title":"Implement git branch and commit operations","description":"Create internal/git/git.go:\n- CreateBranch(name, base string) - create and checkout branch\n- HasChanges() bool - check for uncommitted changes\n- CommitAll(message string) - stage and commit all\n- Push(branch string) - push to origin\n- Checkout(branch string) - switch branches\n- DeleteBranch(branch string) - cleanup after merge\n- GetCurrentBranch() string - get current branch name\n\nAcceptance criteria:\n- All git operations work via exec.Command\n- Proper error handling for git failures","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T20:18:45.184949-05:00","created_by":"matthew","updated_at":"2026-01-09T20:36:51.728059-05:00","closed_at":"2026-01-09T20:36:51.728059-05:00","close_reason":"Implemented streamlined git operations (GetCurrentBranch, Checkout, DeleteBranch, Push). Removed CreateBranch, CommitAll, HasChanges since Claude Code handles those per CLAUDE.md workflow.","dependencies":[{"issue_id":"ac-tia","depends_on_id":"ac-ieo","type":"blocks","created_at":"2026-01-09T20:20:19.493061-05:00","created_by":"matthew"}]}
{"id":"ac-w14","title":"Update internal/claude/runner.go for DB polling","description":"Update internal/claude/runner.go:\n- Remove os and path/filepath imports\n- Remove completionFile creation (lines 42-44)\n- Remove file instruction append (line 47)\n- Add import for internal/db\n- Update Run() to accept or return zellij session/pane names\n- Record session/pane in DB via db.StartBead() or update existing record\n- Change prompt to append 'co complete \u003cid\u003e' instruction\n- Change polling loop to poll db.IsCompleted(beadID) instead of file stat\n- Consider: expose session name constant or make configurable","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T09:34:57.554085-05:00","created_by":"matthew","updated_at":"2026-01-10T09:47:09.349291-05:00","closed_at":"2026-01-10T09:47:09.349291-05:00","close_reason":"Updated cmd/run.go with DB integration (Open, StartBead, FailBead), updated runner.go to poll DB for completion","dependencies":[{"issue_id":"ac-w14","depends_on_id":"ac-aof","type":"parent-child","created_at":"2026-01-10T09:35:13.727958-05:00","created_by":"matthew"},{"issue_id":"ac-w14","depends_on_id":"ac-ec4","type":"blocks","created_at":"2026-01-10T09:35:23.688381-05:00","created_by":"matthew"}]}
{"id":"ac-zqp","title":"Create cmd/list.go subcommand","description":"Create cmd/list.go implementing:\n- co list [--status \u003cfilter\u003e]\n- List all tracked beads\n- Optional status filter (pending, processing, completed, failed)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T09:34:56.900454-05:00","created_by":"matthew","updated_at":"2026-01-10T09:45:02.564939-05:00","closed_at":"2026-01-10T09:45:02.564939-05:00","close_reason":"Created cmd/complete.go, cmd/status.go, cmd/list.go subcommands","dependencies":[{"issue_id":"ac-zqp","depends_on_id":"ac-aof","type":"parent-child","created_at":"2026-01-10T09:35:13.724199-05:00","created_by":"matthew"},{"issue_id":"ac-zqp","depends_on_id":"ac-ec4","type":"blocks","created_at":"2026-01-10T09:35:22.857299-05:00","created_by":"matthew"}]}
